(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{46:function(e,t,c){},47:function(e,t,c){},85:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),r=c(26),s=c.n(r),l=(c(46),c(16)),i=c(3),o=(c(47),c.p+"static/media/logo192.74b45c28.png"),b=c(1),j=function(){return Object(b.jsxs)("div",{className:"main-header",children:[Object(b.jsxs)("div",{className:"header-1",children:[Object(b.jsx)("a",{href:"https://tkwebdev.ca",target:"_blank",rel:"noreferrer",className:"logo",children:Object(b.jsx)("img",{src:o,alt:"temps",title:"Homes",width:"100%"})}),Object(b.jsx)(l.b,{className:"item",to:"aptosList",children:"Check Apartments"})]}),Object(b.jsx)("div",{className:"header-2",children:Object(b.jsx)(l.b,{className:"item",to:"about",children:"About"})})]})},d=c(10),u=c.n(d),h=c(12),m=c(15),O=c(5),p=c(21),x=c(41),f=c.n(x),v={content:{top:"40%",bottom:"auto",left:"50%",right:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"lightblue",height:"15rem",width:"80%"}},N=function(e){var t=e.info,c=t.description,a=t.location,n=t.price,r=t.oldPrice,s=t.reactivated,l=t.changed,i=t.lastUpdate;return Object(b.jsxs)(f.a,{ariaHideApp:!1,isOpen:e.openModal,style:v,children:[Object(b.jsx)("h2",{children:"Posting details"}),Object(b.jsxs)("div",{children:[" ",c]}),Object(b.jsx)("div",{children:Object(b.jsxs)("span",{className:"items-modal",children:["@ ",Object(b.jsx)("b",{children:a})," "]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:[" ",Object(b.jsx)("b",{children:n})]})}),Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:[" Lat Update at ",Object(b.jsx)("b",{children:i?Object(b.jsxs)("b",{children:[" ",i," "]}):"(no info at this time)"})]})}),l&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"items-modal",children:Object(b.jsxs)("span",{children:[" $ before was ",Object(b.jsxs)("b",{children:[r," "]})]})})}),s&&Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"items-modal",children:Object(b.jsxs)("span",{children:[" Item ",Object(b.jsx)("u",{children:"reactivated by its owner"})]})})}),Object(b.jsx)("div",{className:"buttons-modal",children:e.showRemoveButton?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{className:"button-close",onClick:function(){return e.closeModal()},children:"Close"}),Object(b.jsx)("button",{className:"button-remove",onClick:function(t){return e.callRemoveItem(t,e.info,!0)},children:"Remove Item"})]}):Object(b.jsx)("button",{className:"button-close-whole",onClick:function(){return e.closeModal()},children:"Close"})})]})},g=Object(b.jsx)("tr",{children:Object(b.jsx)("td",{className:"processing",colSpan:"4",children:"...Processing"})}),w=Object(b.jsx)("tr",{children:Object(b.jsx)("td",{className:"tr-empty",colSpan:"4",children:"Empty for now. ;)"})}),y=function(e){console.log("porps table mobile",e);var t=Object(a.useState)(null),c=Object(O.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(null),l=Object(O.a)(s,2),i=l[0],o=l[1],j=Object(a.useState)(null),d=Object(O.a)(j,2),u=d[0],h=d[1];Object(a.useEffect)((function(){return e.data&&r(m()),function(){e.data&&m()}}),[e.data]);Object(a.useEffect)((function(){o(!1)}),[e.closeModal]);var m=function(){return e.data.length?e.data.map((function(t,c){var a=t.description,n=t.active,r=(t.reasonRemovedFromAdmin,t.price),s=t.url,l=t.reactivated,i=t.changed;return Object(b.jsxs)("tr",{className:"tr-table",onClick:function(){return n?window.open(s,"_blank"):(h(t),void o(!0))},children:[Object(b.jsxs)("td",{className:"table-index",children:[" ",c+1," "]}),Object(b.jsx)("td",{className:"table-description ".concat(l||i?"tr-orange":"asd"),children:a.length>20?"".concat(a.substring(0,19),".."):a}),Object(b.jsx)("td",{className:"table-price",children:r.substring(1,8)}),"a"===e.type&&Object(b.jsx)("td",{className:"table-remove",onClick:function(e){e.stopPropagation(),h(t),o(!0)},children:Object(b.jsx)(p.a,{color:"blue",className:"table-trash"})})]},c)})):w};return Object(b.jsxs)(b.Fragment,{children:[i&&Object(b.jsx)(N,{openModal:i,closeModal:function(){return o(!1)},info:u,callRemoveItem:e.callRemoveItem,showRemoveButton:"a"===e.type}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{id:"color-head",children:Object(b.jsxs)("tr",{className:"tr-first",children:[Object(b.jsx)("th",{className:"table-index",children:" # "}),Object(b.jsx)("th",{className:"table-description",children:" Description "}),Object(b.jsx)("th",{className:"table-price",children:"$"}),"a"===e.type&&Object(b.jsx)("th",{className:"table-more",children:"  "})]},"head")}),Object(b.jsx)("tbody",{children:n?n.length?n:w:g})]})]})},k=c(22),C=c.n(k),S=function(){var e=Object(h.a)(u.a.mark((function e(t,c,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api",e.prev=1,e.next=4,C.a.patch("/api",{removePass:c,reason:a,_id:t});case 4:if((n=e.sent).data.message){e.next=7;break}throw n.data.error;case 7:return e.abrupt("return",{message:!0});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:e.t0.message||e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,c,a){return e.apply(this,arguments)}}(),R=function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api",e.prev=1,e.next=4,C.a.get("/api",{headers:{"Content-Type":"application/json"}});case 4:if((t=e.sent).data.apartments){e.next=7;break}throw t.data.error;case 7:return e.abrupt("return",{message:t.data.apartments});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",{error:e.t0.message||e.t0});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),A=c(14),E=window.innerWidth<768,P=function(e){return Object(b.jsx)("thead",{id:"color-head",children:Object(b.jsxs)("tr",{className:"tr-first",children:[Object(b.jsx)("th",{className:"table-index",children:" # "}),Object(b.jsx)("th",{className:"table-description",children:" Description "}),Object(b.jsx)("th",{className:"table-price",children:" $ Now "}),Object(b.jsx)("th",{className:"table-price",children:" $ Old "}),Object(b.jsx)("th",{className:"table-location",children:" Location "}),Object(b.jsx)("th",{className:"table-reactivated",children:" Reactived"}),e&&Object(b.jsx)("th",{className:"table-remove"})]},"head")})};var F=function(){var e=Object(a.useState)(null),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(null),s=Object(O.a)(r,2),l=s[0],i=s[1],o=Object(a.useState)(null),j=Object(O.a)(o,2),d=j[0],x=j[1],f=Object(a.useState)(null),v=Object(O.a)(f,2),N=v[0],g=v[1],w=Object(a.useState)(null),k=Object(O.a)(w,2),C=k[0],F=k[1],I=Object(a.useState)(null),M=Object(O.a)(I,2),L=M[0],_=M[1],B=Object(a.useState)(!0),T=Object(O.a)(B,2),$=T[0],D=T[1],H=Object(a.useState)(!1),J=Object(O.a)(H,2),U=J[0],K=J[1],W=function(e,t){var c=e.map((function(e,t){var c=e.description,a=e.location,n=e.price,r=e.oldPrice,s=e.url,l=e.active,i=e.reactivated,o=e.reasonRemovedFromAdmin,j=e.changed;return Object(b.jsxs)("tr",{className:l?"tr-table tr-hover":"tr-table",onClick:function(){return l?window.open(s,"_blank"):o&&window.alert("\nAdmin's Reason for removing is:\n\n".concat(o))},children:[Object(b.jsx)("td",{className:"table-index",children:t+1}),Object(b.jsx)("td",{className:"table-description ".concat(i||j?"tr-orange":"asd"),children:c.length>60?c.substring(0,59):c}),Object(b.jsx)("td",{className:"table-price",children:n}),Object(b.jsx)("td",{className:"table-price",children:r}),Object(b.jsx)("td",{className:"table-location",children:a}),Object(b.jsx)("td",{className:"table-reactivated",children:i&&Object(b.jsx)("b",{children:" \u2713 "})}),l&&Object(b.jsx)("td",{className:"table-remove",onClick:function(t){return G(t,e)},children:Object(b.jsx)(p.b,{color:"red",className:"table-trash"})})]},t)}));"av"===t&&g(c),"rbo"===t&&F(c),"rba"===t&&_(c)};Object(a.useEffect)((function(){(function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,D(!0),e.next=4,R();case 4:if(!(t=e.sent).message){e.next=9;break}c=t.message,n(Object(m.a)(c.filter((function(e){return e.active})))),i(Object(m.a)(c.filter((function(e){return!e.active&&!e.removedByAdmin})))),x(Object(m.a)(c.filter((function(e){return e.removedByAdmin})))),e.next=10;break;case 9:throw new Error(t.error);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("### error post",e.t0.message);case 15:return e.prev=15,D(!1),e.finish(15);case 18:case"end":return e.stop()}var c}),e,null,[[0,12,15,18]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){return c&&W(c,"av"),l&&W(l,"rbo"),d&&W(d,"rba"),function(){}}),[c,l,d]);var q=Object(b.jsx)("tr",{children:Object(b.jsx)("td",{className:"processing",colSpan:"6",children:"...Processing"})}),z=Object(b.jsx)("tr",{children:Object(b.jsx)("td",{className:"tr-empty",colSpan:"6",children:"Empty for now. ;)"})}),G=function(){var e=Object(h.a)(u.a.mark((function e(t,a,r){var s,l,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopPropagation(),s=window.prompt("\nPlease confirm remove action with password")){e.next=4;break}return e.abrupt("return");case 4:for(l="";!l;)l=window.prompt("\n Short reason, please ;)");return e.prev=6,D(!0),e.next=10,S(a._id,s,l);case 10:if(!(i=e.sent).error){e.next=13;break}throw i.error;case 13:n(Object(m.a)(c.filter((function(e){return a._id!==e._id})))),o={postId:a.postId,url:a.url,price:a.price,oldPrice:a.oldPrice,active:!1,description:a.description,location:a.location,reasonRemovedFromAdmin:l},x([].concat(Object(m.a)(d),[o])),r&&K(!0),window.alert("Item removed by Admin successfully. :)"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(6),window.alert("\nError: ".concat(e.t0,"\n\nTry again ;)"));case 23:return e.prev=23,D(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[6,20,23,26]])})));return function(t,c,a){return e.apply(this,arguments)}}(),Q=Object(a.useState)(!1),V=Object(O.a)(Q,2),X=V[0],Y=V[1],Z=Object(a.useState)(!1),ee=Object(O.a)(Z,2),te=ee[0],ce=ee[1];return Object(b.jsxs)("div",{className:"app-body",children:[Object(b.jsx)("h1",{children:"List of apartments"}),Object(b.jsx)("div",{className:"table-section-title av",children:"Availables"}),E?Object(b.jsx)(y,{data:c,type:"a",callRemoveItem:G,closeModal:U}):Object(b.jsxs)("table",{className:$?"table-no-mouse-cursor":"",children:[P(!0),Object(b.jsx)("tbody",{className:$?"table-no-mouse-events":"",children:N?N.length?N:z:q})]}),Object(b.jsxs)("div",{className:"table-section-title rbo",children:["Removed by Owners",X?Object(b.jsx)(A.a,{className:"table-ExpCol expCol-blue",onClick:function(){return Y(!1)}}):Object(b.jsx)(A.b,{className:"table-ExpCol expCol-green",onClick:function(){return Y(!0)}})]}),X?E?Object(b.jsx)(y,{data:l,type:"rbo",closeModal:U}):Object(b.jsxs)("table",{className:$?"table-no-mouse-cursor":"",children:[P(),Object(b.jsx)("tbody",{className:$?"table-no-mouse-events":"",children:C?C.length?C:z:q})]}):Object(b.jsx)("table",{}),Object(b.jsxs)("div",{className:"table-section-title rba",children:["Removed by Admins",te?Object(b.jsx)(A.a,{className:"table-ExpCol expCol-blue",onClick:function(){return ce(!1)}}):Object(b.jsx)(A.b,{className:"table-ExpCol expCol-green",onClick:function(){return ce(!0)}})]}),te?E?Object(b.jsx)(y,{data:d,type:"rba",closeModal:U}):Object(b.jsxs)("table",{className:$?"table-no-mouse-cursor":"",children:[P(),Object(b.jsx)("tbody",{className:$?"table-no-mouse-events":"",children:L?L.length?L:z:q})]}):Object(b.jsx)("table",{})]})};function I(){return Object(b.jsxs)("div",{className:"signature",children:["Tony Kieling",Object(b.jsx)("span",{children:"\xa0\u2122\ufe0f \xa0\u2013\xa0  2021"})]})}var M=function(){return Object(b.jsx)("div",{className:"app-body",children:Object(b.jsx)("h2",{children:"This is About page"})})};var L=function(){return Object(b.jsxs)(l.a,{children:[Object(b.jsx)(j,{}),Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:"/aptosList",children:Object(b.jsx)(F,{})}),Object(b.jsx)(i.a,{exact:!0,path:"/about",children:Object(b.jsx)(M,{})})]}),Object(b.jsx)(I,{})]})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,86)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),a(e),n(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(L,{})}),document.getElementById("root")),_()}},[[85,1,2]]]);
//# sourceMappingURL=main.1d345b65.chunk.js.map