(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{44:function(e,t,a){},45:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),r=a(24),s=a.n(r),i=(a(44),a(14)),o=a(2),l=(a(45),a.p+"static/media/logo192.74b45c28.png"),d=a(0),b=function(){return Object(d.jsxs)("div",{className:"main-header",children:[Object(d.jsxs)("div",{className:"header-1",children:[Object(d.jsx)("a",{href:"https://tkwebdev.ca",target:"_blank",rel:"noreferrer",className:"logo",children:Object(d.jsx)("img",{src:l,alt:"temps",title:"Homes",width:"100%"})}),Object(d.jsx)(i.b,{className:"item",to:"aptosList",children:"Check Apartments"})]}),Object(d.jsx)("div",{className:"header-2",children:Object(d.jsx)(i.b,{className:"item",to:"about",children:"About"})})]})},j=a(9),u=a.n(j),h=a(11),m=a(13),O=a(8),p=a(20),x=a(39),f=a.n(x),v={content:{top:"40%",bottom:"auto",left:"50%",right:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"lightcyan",height:"15rem",width:"80%"}},g=function(e){var t=e.info,a=t.description,c=t.location,n=t.price,r=t.oldPrice,s=t.reactivated;return Object(d.jsxs)(f.a,{ariaHideApp:!1,isOpen:e.openModal,style:v,children:[Object(d.jsx)("h2",{children:"Posting details"}),Object(d.jsxs)("div",{children:[" ",a]}),Object(d.jsx)("div",{className:"items-modal",children:" Location "}),Object(d.jsxs)("div",{children:[" ",c]}),Object(d.jsx)("div",{className:"items-modal",children:" Price "}),Object(d.jsxs)("div",{children:[" ",n]}),s&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"items-modal",children:" $ before "}),Object(d.jsxs)("div",{children:[" ",r]})]}),Object(d.jsx)("button",{onClick:function(){return e.closeModal()},children:"Close"}),Object(d.jsx)("button",{onClick:function(t){return e.callRemoveItem(t,e.info,!0)},children:"Remove Item"})]})},N=Object(d.jsx)("tr",{children:Object(d.jsx)("td",{className:"processing",colSpan:"4",children:"...Processing"})}),w=Object(d.jsx)("tr",{children:Object(d.jsx)("td",{className:"tr-empty",colSpan:"4",children:"Empty for now. ;)"})}),y=function(e){var t=Object(c.useState)(null),a=Object(O.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(null),i=Object(O.a)(s,2),o=i[0],l=i[1],b=Object(c.useState)(null),j=Object(O.a)(b,2),u=j[0],h=j[1];Object(c.useEffect)((function(){return e.data&&r(m()),function(){e.data&&m()}}),[e.data]);Object(c.useEffect)((function(){l(!1)}),[e.closeModal]);var m=function(){return e.data.length?e.data.map((function(e,t){var a=e.description,c=e.active,n=(e.location,e.price),r=(e.oldPrice,e.url),s=(e.reactivated,e.reasonRemovedFromAdmin);return Object(d.jsxs)("tr",{className:"tr-table",onClick:function(){return c?window.open(r,"_blank"):s&&window.alert("\nAdmin's Reason for removing is:\n\n".concat(s))},children:[Object(d.jsxs)("td",{className:"table-index",children:[" ",t+1," "]}),Object(d.jsxs)("td",{className:"table-description",children:[" ",a.length>20?"".concat(a.substring(0,19),".."):a," "]}),Object(d.jsxs)("td",{className:"table-price",children:[" ",n," "]}),Object(d.jsx)("td",{className:"table-remove",onClick:function(t){t.stopPropagation(),h(e),l(!0)},children:Object(d.jsx)(p.a,{color:"blue",className:"table-trash"})})]},t)})):w};return Object(d.jsxs)(d.Fragment,{children:[o&&Object(d.jsx)(g,{openModal:o,closeModal:function(){return l(!1)},info:u,callRemoveItem:e.callRemoveItem}),Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{id:"color-head",children:Object(d.jsxs)("tr",{className:"tr-first",children:[Object(d.jsx)("th",{className:"table-index",children:" # "}),Object(d.jsx)("th",{className:"table-description",children:" Description "}),Object(d.jsx)("th",{className:"table-price",children:" $ Price "}),Object(d.jsx)("th",{className:"table-more",children:" More "})]},"head")}),Object(d.jsx)("tbody",{children:n?n.length?n:w:N})]})]})},k=a(19),S=a.n(k),P=function(){var e=Object(h.a)(u.a.mark((function e(t,a,c){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api",e.prev=1,e.next=4,S.a.patch("/api",{removePass:a,reason:c,_id:t});case 4:if(n=e.sent,console.log("removeeeeeeeeeeeee",n),n.data.message){e.next=8;break}throw n.data.error;case 8:return e.abrupt("return",{message:!0});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0.message||e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a,c){return e.apply(this,arguments)}}(),C=function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api",e.prev=1,e.next=4,S.a.get("/api",{headers:{"Content-Type":"application/json"}});case 4:if(t=e.sent,console.log("getDataaaaaaa",t),t.data.apartments){e.next=8;break}throw t.data.error;case 8:return e.abrupt("return",{message:t.data.apartments});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{error:e.t0.message||e.t0});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),R=window.innerWidth<768,A=function(e){return Object(d.jsx)("thead",{id:"color-head",children:Object(d.jsxs)("tr",{className:"tr-first",children:[Object(d.jsx)("th",{className:"table-index",children:" # "}),Object(d.jsx)("th",{className:"table-description",children:" Description "}),Object(d.jsx)("th",{className:"table-price",children:" $ Now "}),Object(d.jsx)("th",{className:"table-price",children:" $ Old "}),Object(d.jsx)("th",{className:"table-location",children:" Location "}),Object(d.jsx)("th",{className:"table-reactivated",children:" Reactived"}),e&&Object(d.jsx)("th",{className:"table-remove"})]},"head")})};var E=function(){var e=Object(c.useState)(null),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),s=Object(O.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(null),b=Object(O.a)(l,2),j=b[0],x=b[1],f=Object(c.useState)(null),v=Object(O.a)(f,2),g=v[0],N=v[1],w=Object(c.useState)(null),k=Object(O.a)(w,2),S=k[0],E=k[1],F=Object(c.useState)(null),I=Object(O.a)(F,2),H=I[0],M=I[1],L=Object(c.useState)(!0),_=Object(O.a)(L,2),T=_[0],B=_[1],D=Object(c.useState)(!1),$=Object(O.a)(D,2),J=$[0],K=$[1],W=function(e,t){var a=e.map((function(e,t){var a=e.description,c=e.location,n=e.price,r=e.oldPrice,s=e.url,i=e.active,o=e.reactived,l=e.reasonRemovedFromAdmin;return Object(d.jsxs)("tr",{className:i?"tr-table tr-hover":"tr-table",onClick:function(){return i?window.open(s,"_blank"):l&&window.alert("\nAdmin's Reason for removing is:\n\n".concat(l))},children:[Object(d.jsx)("td",{className:"table-index",children:t+1}),Object(d.jsx)("td",{children:a.length>60?a.substring(0,59):a}),Object(d.jsx)("td",{className:"table-price",children:n}),Object(d.jsx)("td",{className:"table-price",children:r}),Object(d.jsx)("td",{className:"table-location",children:c}),Object(d.jsx)("td",{className:"table-reactivated",children:o&&Object(d.jsx)("b",{children:" \u2713 "})}),i&&Object(d.jsx)("td",{className:"table-remove",onClick:function(t){return z(t,e)},children:Object(d.jsx)(p.b,{color:"red",className:"table-trash"})})]},t)}));"av"===t&&N(a),"rbo"===t&&E(a),"rba"===t&&M(a)};Object(c.useEffect)((function(){(function(){var e=Object(h.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.next=4,C();case 4:if(t=e.sent,console.log("getDataaaaaaaaaa",t),!t.message){e.next=10;break}a=t.message,n(Object(m.a)(a.filter((function(e){return e.active})))),o(Object(m.a)(a.filter((function(e){return!e.active&&!e.removedByAdmin})))),x(Object(m.a)(a.filter((function(e){return e.removedByAdmin})))),e.next=11;break;case 10:throw new Error(t.error);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("### error post",e.t0.message);case 16:return e.prev=16,B(!1),e.finish(16);case 19:case"end":return e.stop()}var a}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(c.useEffect)((function(){return a&&W(a,"av"),i&&W(i,"rbo"),j&&W(j,"rba"),function(){}}),[a,i,j]);var Y=Object(d.jsx)("tr",{children:Object(d.jsx)("td",{className:"processing",colSpan:"6",children:"...Processing"})}),q=Object(d.jsx)("tr",{children:Object(d.jsx)("td",{className:"tr-empty",colSpan:"6",children:"Empty for now. ;)"})}),z=function(){var e=Object(h.a)(u.a.mark((function e(t,c,r){var s,i,o,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("YEAHHHHHH"),t.stopPropagation(),s=window.prompt("\nPlease confirm remove action with password")){e.next=5;break}return e.abrupt("return");case 5:for(i="";!i;)i=window.prompt("\n Short reason, please ;)");return"/api",e.prev=8,B(!0),e.next=12,P(c._id,s,i);case 12:if(!(o=e.sent).error){e.next=15;break}throw o.error;case 15:n(Object(m.a)(a.filter((function(e){return c._id!==e._id})))),l={postId:c.postId,url:c.url,price:c.price,oldPrice:c.oldPrice,active:!1,description:c.description,location:c.location,reasonRemovedFromAdmin:i},x([].concat(Object(m.a)(j),[l])),r&&K(!0),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),window.alert("\nError: ".concat(e.t0,"\n\nTry again ;)"));case 24:return e.prev=24,B(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[8,21,24,27]])})));return function(t,a,c){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"app-body",children:[Object(d.jsx)("h1",{children:"List of apartments"}),Object(d.jsx)("h2",{className:"table-section-title av",children:"Current available"}),R?Object(d.jsx)(y,{data:a,type:"a",callRemoveItem:z,closeModal:J}):Object(d.jsxs)("table",{className:T?"table-no-mouse-cursor":"",children:[A(!0),Object(d.jsx)("tbody",{className:T?"table-no-mouse-events":"",children:g?g.length?g:q:Y})]}),Object(d.jsx)("h2",{className:"table-section-title rbo",children:"Removed by Owners"}),R?i&&Object(d.jsx)(y,{data:i,type:"rbo"}):Object(d.jsxs)("table",{className:T?"table-no-mouse-cursor":"",children:[A(),Object(d.jsx)("tbody",{className:T?"table-no-mouse-events":"",children:S?S.length?S:q:Y})]}),Object(d.jsx)("h2",{className:"table-section-title rba",children:"Removed by Admins"}),R?j&&j.length&&Object(d.jsx)(y,{data:j,type:"rba"}):Object(d.jsxs)("table",{className:T?"table-no-mouse-cursor":"",children:[A(),Object(d.jsx)("tbody",{className:T?"table-no-mouse-events":"",children:H?H.length?H:q:Y})]}),Object(d.jsx)("p",{style:{paddingBottom:"2rem"}})]})};function F(){return Object(d.jsxs)("div",{className:"signature",children:["Tony Kieling",Object(d.jsx)("span",{children:"\xa0\u2122\ufe0f \xa0\u2013\xa0  2021"})]})}var I=function(){return Object(d.jsx)("div",{className:"app-body",children:Object(d.jsx)("h2",{children:"This is About page"})})};var H=function(){return Object(d.jsxs)(i.a,{children:[Object(d.jsx)(b,{}),Object(d.jsxs)(o.c,{children:[Object(d.jsx)(o.a,{exact:!0,path:"/aptosList",children:Object(d.jsx)(E,{})}),Object(d.jsx)(o.a,{exact:!0,path:"/about",children:Object(d.jsx)(I,{})})]}),Object(d.jsx)(F,{})]})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(H,{})}),document.getElementById("root")),M()}},[[83,1,2]]]);
//# sourceMappingURL=main.69e77d78.chunk.js.map